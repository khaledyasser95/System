MAIN     START  1000
        BASE   ADDR1
         CLEAR  X
         JSUB   GETPAIR
         STCH   ADDR2
         JSUB   GETPAIR
         STCH   ADDR3
         LDB    ADDR1
         JSUB   GETPAIR
         STCH   ADDR1
         JSUB   GETPAIR
         STCH   ADDR2
LOOP     JSUB   GETPAIR
        STCH   ADDR1,X
         TIXR   X
         J      LOOP
GETPAIR  STL    RTADDR
         JSUB   READ
         STCH   HEX
         OR     ORADDR
         J      @RTADDR
READ	 TD     MAXLEN2
         JEQ    READ
         CLEAR  A
         RD     #15
         COMP   #48
         JLT    EOFCK
         SUB    #48
         COMP   #10
MAXLEN7   EQU    *
         JLT    GOBACK
         SUB    #7
         ORG    2000
GOBACK   RSUB
EOFCK    COMP   #33
         JEQ    EXIT
         COMP   #4
         JGT    READ
EXIT     CLEAR  L
         J      @ADDR1
HEX      RESB   1
         END    MAIN
MAXLEN   EQU    *
MAXLEN2   EQU    READ
MAXLEN3   EQU    *
MAXLEN4   EQU    Khaled
ADDR2    RESB   1
ADDR3    RESB   1
ORADDR   RESB    2
RTADDR   RESB   4096
ADDR1    RESB   1
         END    MAIN


